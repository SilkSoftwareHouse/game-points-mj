webpackJsonp([0],{0:function(e,t,n){n("a26e5"),e.exports=n("ff61d")},"06cfa":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={GET_GAME_SETTINGS:"GET_GAME_SETTINGS",CLICK_ON_ITEM:"CLICK_ON_ITEM",NEW_GAME:"NEW_GAME"}},"0741c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.playerTotalPointsWithoutBonusSelector=t.playerTotalPointsSelector=t.playerItemsSelector=t.playerItemsRawSelector=t.gameLogSelector=t.gameItemsSelector=t.gameSelector=void 0;var a=n("32486"),r=function(e,t){return e<t?1:e===t?0:e>t?-1:void 0},o=t.gameSelector=function(e){return e.get("game")},u=(t.gameItemsSelector=(0,a.createSelector)(o,function(e){return e.get("items")}),t.gameLogSelector=(0,a.createSelector)(o,function(e){return e.get("gameLog")}),t.playerItemsRawSelector=(0,a.createSelector)(o,function(e){return e.get("playerItems")})),l=t.playerItemsSelector=(0,a.createSelector)(u,function(e){return e.sortBy(function(e){return e.clickTimestamp},r).valueSeq()});t.playerTotalPointsSelector=(0,a.createSelector)(l,function(e){var t=0;return e.forEach(function(e){return t+=e.calculatePoints()}),t}),t.playerTotalPointsWithoutBonusSelector=(0,a.createSelector)(l,function(e){var t=0;return e.forEach(function(e){return t+=e.calculatePointsWithoutBonus()}),t})},"0e70d":function(e,t,n){"use strict";function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n("8af19"),l=(r=u)&&r.__esModule?r:{default:r},i=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,u=Array(o),l=0;l<o;l++)u[l]=arguments[l];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.handleItemClick=function(e){return function(){return r.props.clickOnItem(e)}},a(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),o(t,[{key:"render",value:function(){var e=this,t=this.props.items;return l.default.createElement("div",{className:"p-3"},l.default.createElement("div",{className:"card-deck game-place"},t.map(function(t,n){return l.default.createElement("div",{key:"item_"+n,className:"card text-white bg-info mb-3 game-item",onClick:e.handleItemClick(t.id)},l.default.createElement("div",{className:"card-body"},l.default.createElement("div",{className:"card-text text-center"},l.default.createElement("div",{className:"game-item__name"},t.name))),l.default.createElement("div",{className:"card-footer"},l.default.createElement("i",{className:"fa fa-hand-o-up"})," ",l.default.createElement("span",{className:"font-weight-bold"},t.unitPoints)," points",!t.bonus.isEmpty()&&l.default.createElement("span",{className:"pull-right"},l.default.createElement("i",{className:"fa fa-medkit"})," ",l.default.createElement("span",{className:"font-weight-bold"},t.bonus.points)," for ",t.bonus.quantity)))})))}}]),t}();t.default=i},"307f6":function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r;Object.defineProperty(t,"__esModule",{value:!0});var o,u=n("12a66"),l=n("54f68"),i=n("06cfa"),c=(o=i)&&o.__esModule?o:{default:o},f=new l.Map({items:new l.List,gameLog:new l.List,playerItems:new l.List}),s=(0,u.handleActions)((a(r={},c.default.GET_GAME_SETTINGS,function(e,t){return e.set("items",t.payload)}),a(r,c.default.CLICK_ON_ITEM,function(e,t){var n=e.get("items").find(function(e){return e.id===t.payload.id});if(!n)return e;n=n.set("quantity",1).set("clickTimestamp",t.payload.timestamp);var a=e.get("gameLog").insert(0,n),r=a.groupBy(function(e){return e.id}).map(function(e){var t=e.first(),n=e.reduce(function(e,t){return e+t.quantity},0);return t.set("quantity",n)});return e.set("gameLog",a).set("playerItems",r)}),a(r,c.default.NEW_GAME,function(e){return e.set("gameLog",new l.List).set("playerItems",new l.List)}),r),f);t.default=s},"328c4":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n("27361"),o=n("0a81c"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("f6f2e")),l=n("9a097"),i=(a=l)&&a.__esModule?a:{default:a},c=n("0741c");t.default=(0,o.connect)(function(e){return{gameLog:(0,c.gameLogSelector)(e),playerItems:(0,c.playerItemsSelector)(e),totalPoints:(0,c.playerTotalPointsSelector)(e),totalPointsWithoutBonus:(0,c.playerTotalPointsWithoutBonusSelector)(e)}},function(e){return(0,r.bindActionCreators)(u,e)})(i.default)},"43a55":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af19"),u=a(o),l=n("0a81c"),i=a(n("bd302")),c=n("de52d"),f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){return u.default.createElement(l.Provider,{store:i.default},u.default.createElement(c.Game,null))}}]),t}();t.default=f},"5d6e8":function(e,t){e.exports={gameItems:[{id:"a",name:"A",unitPoints:50,bonus:{quantity:3,points:200}},{id:"b",name:"B",unitPoints:30,bonus:{quantity:2,points:90}},{id:"c",name:"C",unitPoints:20,bonus:null},{id:"d",name:"D",unitPoints:15,bonus:null},{id:"e",name:"E",unitPoints:10,bonus:null},{id:"f",name:"F",unitPoints:5,bonus:null}]}},"6ff90":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("54f68"),u=n("b4e34"),l={id:"",name:"",quantity:0,unitPoints:0,bonus:new((a=u)&&a.__esModule?a:{default:a}).default,clickTimestamp:0},i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,(0,o.Record)(l)),r(t,[{key:"calculatePointsWithoutBonus",value:function(){return this.quantity*this.unitPoints}},{key:"calculatePoints",value:function(){if(this.bonus.isEmpty()||this.quantity<this.bonus.quantity)return this.calculatePointsWithoutBonus();var e=this.quantity-this.bonus.quantity;return this.bonus.points+e*this.unitPoints}}]),t}();t.default=i},"8fc0c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("4e2e9"),r=n("de52d"),o=(0,a.combineReducers)({game:r.reducer});t.default=o},"9a097":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af19"),u=a(o),l=a(n("b912e")),i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tabs=["Score","Actions log"],n.handleTabChange=function(e){return function(t){t.preventDefault(),n.setState({activeTab:e})}},n.state={activeTab:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this,t=this.state.activeTab;return u.default.createElement("div",{className:"p-3 game-info"},u.default.createElement("ul",{className:"nav nav-tabs"},this.tabs.map(function(n,a){return u.default.createElement("li",{key:"game_nav_item_"+a,className:"nav-item"},u.default.createElement("a",{className:(0,l.default)("nav-link",{active:t===a}),onClick:e.handleTabChange(a),href:"#"},n))})),0===t&&this.renderScore(),1===t&&this.renderHistory())}},{key:"renderScore",value:function(){var e=this.props,t=e.newGame,n=e.playerItems,a=e.totalPoints,r=a-e.totalPointsWithoutBonus;return u.default.createElement("div",null,0===n.size?u.default.createElement("div",{className:"alert alert-primary text-center mt-3"},u.default.createElement("i",{className:"fa fa-list-alt"})," Game score is empty"):u.default.createElement("table",{className:"table text-center mt-3"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",null,"Item:"),u.default.createElement("th",null,"Quantity:"),u.default.createElement("th",null,"Score:"))),u.default.createElement("tbody",null,n.map(function(e,t){return u.default.createElement("tr",{key:"game_info_item_"+t},u.default.createElement("td",{className:"h2 font-weight-bold"},e.name),u.default.createElement("td",{className:"h2"},e.quantity),u.default.createElement("td",{className:"h2"},e.calculatePoints()))}))),u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-36"},u.default.createElement("span",{className:"h5"},"Bonuses: ",r))),u.default.createElement("div",{className:"row mt-4"},u.default.createElement("div",{className:"col-36 col-xl-13 d-flex align-items-center"},u.default.createElement("div",{className:"h5"},"Total: ",a)),u.default.createElement("div",{className:"col-36 col-xl-23 text-right"},u.default.createElement("button",{onClick:t,className:"btn btn-success btn-lg btn-lg-block"},u.default.createElement("i",{className:"fa fa-play"})," New Game"))))}},{key:"renderHistory",value:function(){var e=this.props.gameLog;return u.default.createElement("div",null,0===e.size?u.default.createElement("div",{className:"alert alert-primary text-center mt-3"},u.default.createElement("i",{className:"fa fa-list-alt"})," Actions log is empty"):u.default.createElement("table",{className:"table text-center"},u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",null,"Item:"),u.default.createElement("th",null,"Click time:"))),u.default.createElement("tbody",null,e.map(function(e,t){return u.default.createElement("tr",{key:"game_info_history_"+t},u.default.createElement("td",null,e.name),u.default.createElement("td",null,new Date(e.clickTimestamp).toLocaleTimeString()))}))))}}]),t}();t.default=i},"9e949":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n("27361"),o=n("0a81c"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("f6f2e")),l=n("0e70d"),i=(a=l)&&a.__esModule?a:{default:a},c=n("0741c");t.default=(0,o.connect)(function(e){return{items:(0,c.gameItemsSelector)(e)}},function(e){return(0,r.bindActionCreators)(u,e)})(i.default)},"9f237":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n("8af19"),u=a(o),l=a(n("9e949")),i=a(n("328c4")),c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"container-fluid p-0 h-100 game"},u.default.createElement("div",{className:"row no-gutters h-100"},u.default.createElement("div",{className:"col col-36 col-lg-26"},u.default.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark game-place__nav"},u.default.createElement("a",{className:"navbar-brand",href:"#"},u.default.createElement("i",{className:"fa fa-gamepad"})," Game points")),u.default.createElement("div",{className:"game-place__content"},u.default.createElement(l.default,null))),u.default.createElement("div",{className:"col col-36 col-lg-10"},u.default.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark game-info__nav"},u.default.createElement("a",{className:"navbar-brand",href:"#"},u.default.createElement("i",{className:"fa fa-info-circle"})," Player items")),u.default.createElement("div",{className:"game-info__content"},u.default.createElement(i.default,null)))))}},{key:"componentDidMount",value:function(){this.props.fetchGameSettings()}}]),t}();t.default=c},aeae8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n("be6be");var a=[];t.default=a},b2912:function(e,t){},b4e34:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n("54f68"),o={quantity:0,points:0},u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,(0,r.Record)(o)),a(t,[{key:"isEmpty",value:function(){return 0===this.quantity&&0===this.points}}]),t}();t.default=u},b71ec:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n("27361"),o=n("0a81c"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("f6f2e")),l=n("9f237"),i=(a=l)&&a.__esModule?a:{default:a};t.default=(0,o.connect)(void 0,function(e){return(0,r.bindActionCreators)(u,e)})(i.default)},bd302:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("27361"),o=n("54f68"),u=a(n("aeae8")),l=a(n("8fc0c")),i=(0,o.Map)(),c=(0,r.createStore)(l.default,i,r.applyMiddleware.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(u.default)));t.default=c},de52d:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("f6f2e");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var o=n("b71ec");Object.defineProperty(t,"Game",{enumerable:!0,get:function(){return a(o).default}});var u=n("307f6");Object.defineProperty(t,"reducer",{enumerable:!0,get:function(){return a(u).default}})},f6f2e:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.newGame=t.clickOnItem=t.fetchGameSettings=void 0;var r=n("12a66"),o=n("54f68"),u=a(n("06cfa")),l=a(n("5d6e8")),i=a(n("6ff90")),c=a(n("b4e34"));t.fetchGameSettings=(0,r.createAction)(u.default.GET_GAME_SETTINGS,function(){var e=l.default.gameItems,t=[];for(var n in e){var a=new i.default({id:e[n].id,name:e[n].name,unitPoints:e[n].unitPoints});if(e[n].bonus){var r=new c.default({quantity:e[n].bonus.quantity,points:e[n].bonus.points});a=a.set("bonus",r)}t.push(a)}return new o.List(t)}),t.clickOnItem=(0,r.createAction)(u.default.CLICK_ON_ITEM,function(e){return{id:e,timestamp:(new Date).getTime()}}),t.newGame=(0,r.createAction)(u.default.NEW_GAME)},ff61d:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=a(n("8af19")),o=a(n("63f14")),u=a(n("43a55"));n("b2912"),o.default.render(r.default.createElement(u.default,null),document.getElementById("root"))}},[0]);